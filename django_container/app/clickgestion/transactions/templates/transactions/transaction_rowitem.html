{% load i18n %}
<tr>
    <th>{{ transaction.code|default_if_none:"&nbsp;" }}</th>
    <td>{{ transaction.closed_date|default_if_none:"&nbsp;" }}</td>
    <td>{{ transaction.apt_number|default_if_none:"&nbsp;" }}</td>
    <td>{{ transaction.client|default_if_none:"&nbsp;" }}</td>
    <td>
        {% if transaction.concepts.exists %}
        <div class="container">
            {% for concept in transaction.concepts.all %}
            <div class="row">
                <div class="col justify-content-start">
                    <h6 class="mr-2"><small>{{ concept.concept_type }}</small></h6>
                </div>
                <div class="col text-right justify-content-end">
                    {% with concept.value as value %}{% include 'transactions/value_sm.html' %}{% endwith %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </td>
    <td>
        {% if transaction.totals %}
        <div class="container">
            {% for value in transaction.totals %}
            <div class="row justify-content-end">
                {% include 'transactions/value_bold_sm.html' %}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </td>
    <td>
        {% if transaction.closed %}
        <a href="/transactions/{{ transaction.code }}" class="btn btn-outline-secondary btn-sm" role="button">
            {% trans 'View' %}
        </a>

        {% else %}
        <a href="/transactions/{{ transaction.code }}/edit/" class="btn btn-outline-secondary btn-sm" role="button">
            {% trans 'Edit' %}
        </a>
        <a href="/transactions/{{ transaction.code }}/delete/" class="btn btn-outline-danger btn-sm" role="button">
            {% trans 'Delete' %}
        </a>
        {% endif %}
    </td>
</tr>
